<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Ujian Online Pergunu</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="../assets/css/animate.css">
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="icon" href="../assets/images/logo.png">
</head>
<body>
    <div class="admin-container">
        <div class="admin-sidebar">
            <div class="admin-logo">
                <img src="../assets/images/logo.png" alt="Pergunu Situbondo">
                <h2>Admin Panel</h2>
            </div>
            <nav class="admin-menu">
                <ul>
                    <li class="active"><a href="#" data-section="dashboard"><i class="fas fa-tachometer-alt"></i> Dashboard</a></li>
                    <li><a href="#" data-section="participants"><i class="fas fa-users"></i> Data Peserta</a></li>
                    <li><a href="#" data-section="questions"><i class="fas fa-book"></i> Bank Soal</a></li>
                    <li><a href="#" data-section="settings"><i class="fas fa-cog"></i> Pengaturan</a></li>
                    <li><a href="#" data-section="certificates"><i class="fas fa-certificate"></i> Sertifikat</a></li>
                </ul>
            </nav>
            <div class="admin-footer">
                <button id="logout-btn" class="btn-danger"><i class="fas fa-sign-out-alt"></i> Logout</button>
            </div>
        </div>
        <div class="admin-content">
            <!-- Dashboard Section -->
            <div id="dashboard-section" class="admin-section active">
                <h1><i class="fas fa-tachometer-alt"></i> Dashboard</h1>
                <div class="admin-stats">
                    <div class="stat-card">
                        <h3>Total Peserta</h3>
                        <p id="total-participants">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Ujian Hari Ini</h3>
                        <p id="today-exams">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Soal Tersedia</h3>
                        <p id="total-questions">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Sertifikat Terbit</h3>
                        <p id="total-certificates">0</p>
                    </div>
                </div>
                <div class="recent-activity">
                    <h3>Aktivitas Terkini</h3>
                    <div class="activity-list" id="activity-list">
                        <!-- Aktivitas akan dimuat di sini -->
                    </div>
                </div>
            </div>

            <!-- Participants Section -->
            <div id="participants-section" class="admin-section">
                <h1><i class="fas fa-users"></i> Data Peserta</h1>
                <div class="admin-toolbar">
                    <div class="search-box">
                        <input type="text" id="participant-search" placeholder="Cari peserta...">
                        <button id="search-participant-btn"><i class="fas fa-search"></i></button>
                    </div>
                    <button id="export-participants-btn" class="btn-secondary"><i class="fas fa-file-export"></i> Export Data</button>
                </div>
                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Nama</th>
                                <th>Status</th>
                                <th>Ujian</th>
                                <th>Tanggal</th>
                                <th>Nilai</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="participants-table">
                            <!-- Data peserta akan dimuat di sini -->
                        </tbody>
                    </table>
                    <div class="pagination">
                        <button id="prev-page" disabled><i class="fas fa-chevron-left"></i></button>
                        <span id="page-info">Halaman 1 dari 1</span>
                        <button id="next-page" disabled><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
            </div>

            <!-- Questions Section -->
            <div id="questions-section" class="admin-section">
                <h1><i class="fas fa-book"></i> Bank Soal</h1>
                <div class="admin-tabs">
                    <button class="tab-btn active" data-tab="manage-questions">Kelola Soal</button>
                    <button class="tab-btn" data-tab="add-question">Tambah Soal</button>
                    <button class="tab-btn" data-tab="import-questions">Import Soal</button>
                </div>
                
                <!-- Manage Questions Tab -->
                <div id="manage-questions" class="tab-content active">
                    <div class="admin-toolbar">
                        <div class="filter-group">
                            <label for="subject-filter">Mata Pelajaran:</label>
                            <select id="subject-filter">
                                <option value="all">Semua</option>
                                <option value="agama">Agama</option>
                                <option value="ppkn">PPKN</option>
                                <option value="sejarah">Sejarah</option>
                                <option value="ipa">IPA</option>
                                <option value="ips">IPS</option>
                                <option value="matematika">Matematika</option>
                                <option value="bahasa-indonesia">Bahasa Indonesia</option>
                                <option value="bahasa-inggris">Bahasa Inggris</option>
                                <option value="materi-extra">Materi Extra</option>
                                <option value="materi-khusus">Materi Khusus</option>
                                <option value="logika">Logika</option>
                                <option value="cpns">CPNS/P3K</option>
                            </select>
                        </div>
                        <button id="refresh-questions-btn" class="btn-secondary"><i class="fas fa-sync-alt"></i> Refresh</button>
                    </div>
                    <div class="admin-table-container">
                        <table class="admin-table">
                            <thead>
                                <tr>
                                    <th>No</th>
                                    <th>Pertanyaan</th>
                                    <th>Mata Pelajaran</th>
                                    <th>Tanggal Dibuat</th>
                                    <th>Aksi</th>
                                </tr>
                            </thead>
                            <tbody id="questions-table">
                                <!-- Data soal akan dimuat di sini -->
                            </tbody>
                        </table>
                        <div class="pagination">
                            <button id="prev-question-page" disabled><i class="fas fa-chevron-left"></i></button>
                            <span id="question-page-info">Halaman 1 dari 1</span>
                            <button id="next-question-page" disabled><i class="fas fa-chevron-right"></i></button>
                        </div>
                    </div>
                </div>
                
                <!-- Add Question Tab -->
                <div id="add-question" class="tab-content">
                    <form id="add-question-form">
                        <div class="form-group">
                            <label for="question-subject">Mata Pelajaran:</label>
                            <select id="question-subject" required>
                                <option value="">Pilih Mata Pelajaran</option>
                                <option value="agama">Agama</option>
                                <option value="ppkn">PPKN</option>
                                <option value="sejarah">Sejarah</option>
                                <option value="ipa">IPA</option>
                                <option value="ips">IPS</option>
                                <option value="matematika">Matematika</option>
                                <option value="bahasa-indonesia">Bahasa Indonesia</option>
                                <option value="bahasa-inggris">Bahasa Inggris</option>
                                <option value="materi-extra">Materi Extra</option>
                                <option value="materi-khusus">Materi Khusus</option>
                                <option value="logika">Logika</option>
                                <option value="cpns">CPNS/P3K</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="question-text">Pertanyaan:</label>
                            <textarea id="question-text" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <label>Pilihan Jawaban:</label>
                            <div class="option-group">
                                <input type="text" class="option-input" placeholder="Pilihan A" required>
                                <input type="text" class="option-input" placeholder="Pilihan B" required>
                                <input type="text" class="option-input" placeholder="Pilihan C" required>
                                <input type="text" class="option-input" placeholder="Pilihan D" required>
                                <input type="text" class="option-input" placeholder="Pilihan E" required>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="correct-answer">Jawaban Benar:</label>
                            <select id="correct-answer" required>
                                <option value="">Pilih Jawaban Benar</option>
                                <option value="0">A</option>
                                <option value="1">B</option>
                                <option value="2">C</option>
                                <option value="3">D</option>
                                <option value="4">E</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="explanation">Penjelasan Jawaban:</label>
                            <textarea id="explanation" rows="3"></textarea>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Simpan Soal</button>
                            <button type="button" id="generate-ai-question" class="btn-secondary"><i class="fas fa-robot"></i> Generate dengan AI</button>
                        </div>
                    </form>
                </div>
                
                <!-- Import Questions Tab -->
                <div id="import-questions" class="tab-content">
                    <div class="import-instructions">
                        <h3>Instruksi Import Soal</h3>
                        <p>1. Siapkan file dalam format JSON atau CSV</p>
                        <p>2. Pastikan format sesuai dengan template</p>
                        <p>3. File tidak boleh melebihi 1MB</p>
                        <p>4. Maksimal 100 soal per file</p>
                        <a href="#" id="download-template" class="btn-secondary"><i class="fas fa-file-download"></i> Download Template</a>
                    </div>
                    <form id="import-questions-form">
                        <div class="form-group">
                            <label for="import-file">Pilih File:</label>
                            <input type="file" id="import-file" accept=".json,.csv" required>
                        </div>
                        <div class="form-group">
                            <label for="import-subject">Mata Pelajaran:</label>
                            <select id="import-subject" required>
                                <option value="">Pilih Mata Pelajaran</option>
                                <option value="agama">Agama</option>
                                <option value="ppkn">PPKN</option>
                                <option value="sejarah">Sejarah</option>
                                <option value="ipa">IPA</option>
                                <option value="ips">IPS</option>
                                <option value="matematika">Matematika</option>
                                <option value="bahasa-indonesia">Bahasa Indonesia</option>
                                <option value="bahasa-inggris">Bahasa Inggris</option>
                                <option value="materi-extra">Materi Extra</option>
                                <option value="materi-khusus">Materi Khusus</option>
                                <option value="logika">Logika</option>
                                <option value="cpns">CPNS/P3K</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn-primary"><i class="fas fa-upload"></i> Import Soal</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Settings Section -->
            <div id="settings-section" class="admin-section">
                <h1><i class="fas fa-cog"></i> Pengaturan Sistem</h1>
                <div class="admin-tabs">
                    <button class="tab-btn active" data-tab="general-settings">Umum</button>
                    <button class="tab-btn" data-tab="exam-settings">Ujian</button>
                    <button class="tab-btn" data-tab="certificate-settings">Sertifikat</button>
                    <button class="tab-btn" data-tab="security-settings">Keamanan</button>
                </div>
                
                <!-- General Settings -->
                <div id="general-settings" class="tab-content active">
                    <form id="general-settings-form">
                        <div class="form-group">
                            <label for="greeting-text">Teks Sambutan:</label>
                            <textarea id="greeting-text" rows="2" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="sub-greeting-text">Sub Teks Sambutan:</label>
                            <textarea id="sub-greeting-text" rows="2" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="periodic-info">Informasi Berkala:</label>
                            <textarea id="periodic-info" rows="3" required></textarea>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Simpan Pengaturan</button>
                        </div>
                    </form>
                </div>
                
                <!-- Exam Settings -->
                <div id="exam-settings" class="tab-content">
                    <form id="exam-settings-form">
                        <div class="form-group">
                            <label for="exam-duration">Durasi Ujian (menit):</label>
                            <input type="number" id="exam-duration" min="10" max="180" required>
                        </div>
                        <div class="form-group">
                            <label for="point-per-question">Poin per Soal:</label>
                            <input type="number" id="point-per-question" min="1" max="10" required>
                        </div>
                        <div class="form-group">
                            <label>Aktifkan Jenis Ujian:</label>
                            <div class="checkbox-group">
                                <label><input type="checkbox" name="enabled-exams" value="pelajar" checked> Pelajar</label>
                                <label><input type="checkbox" name="enabled-exams" value="umum" checked> Umum</label>
                                <label><input type="checkbox" name="enabled-exams" value="cpns" checked> CPNS/P3K</label>
                            </div>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Simpan Pengaturan</button>
                        </div>
                    </form>
                </div>
                
                <!-- Certificate Settings -->
                <div id="certificate-settings" class="tab-content">
                    <form id="certificate-settings-form">
                        <div class="form-group">
                            <label for="chairman-name">Nama Ketua:</label>
                            <input type="text" id="chairman-name" required>
                        </div>
                        <div class="form-group">
                            <label for="perfect-message">Pesan Nilai Sempurna (90-100%):</label>
                            <textarea id="perfect-message" rows="2" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="excellent-message">Pesan Nilai Baik (75-89%):</label>
                            <textarea id="excellent-message" rows="2" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="good-message">Pesan Nilai Cukup (60-74%):</label>
                            <textarea id="good-message" rows="2" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="average-message">Pesan Nilai Sedang (40-59%):</label>
                            <textarea id="average-message" rows="2" required></textarea>
                        </div>
                        <div class="form-group">
                            <label for="poor-message">Pesan Nilai Kurang (0-39%):</label>
                            <textarea id="poor-message" rows="2" required></textarea>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Simpan Pengaturan</button>
                        </div>
                    </form>
                </div>
                
                <!-- Security Settings -->
                <div id="security-settings" class="tab-content">
                    <form id="security-settings-form">
                        <div class="form-group">
                            <label for="current-admin-code">Kode Admin Saat Ini:</label>
                            <input type="password" id="current-admin-code" required>
                        </div>
                        <div class="form-group">
                            <label for="new-admin-code">Kode Admin Baru:</label>
                            <input type="password" id="new-admin-code" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-admin-code">Konfirmasi Kode Admin Baru:</label>
                            <input type="password" id="confirm-admin-code" required>
                        </div>
                        <hr>
                        <div class="form-group">
                            <label for="current-login-code">Kode Login Saat Ini:</label>
                            <input type="password" id="current-login-code" required>
                        </div>
                        <div class="form-group">
                            <label for="new-login-code">Kode Login Baru:</label>
                            <input type="password" id="new-login-code" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-login-code">Konfirmasi Kode Login Baru:</label>
                            <input type="password" id="confirm-login-code" required>
                        </div>
                        <hr>
                        <div class="form-group">
                            <label for="current-cpns-code">Kode CPNS Saat Ini:</label>
                            <input type="password" id="current-cpns-code" required>
                        </div>
                        <div class="form-group">
                            <label for="new-cpns-code">Kode CPNS Baru:</label>
                            <input type="password" id="new-cpns-code" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-cpns-code">Konfirmasi Kode CPNS Baru:</label>
                            <input type="password" id="confirm-cpns-code" required>
                        </div>
                        <hr>
                        <div class="form-group">
                            <label for="current-bank-code">Kode Bank Soal Saat Ini:</label>
                            <input type="password" id="current-bank-code" required>
                        </div>
                        <div class="form-group">
                            <label for="new-bank-code">Kode Bank Soal Baru:</label>
                            <input type="password" id="new-bank-code" required>
                        </div>
                        <div class="form-group">
                            <label for="confirm-bank-code">Konfirmasi Kode Bank Soal Baru:</label>
                            <input type="password" id="confirm-bank-code" required>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Simpan Pengaturan</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Certificates Section -->
            <div id="certificates-section" class="admin-section">
                <h1><i class="fas fa-certificate"></i> Manajemen Sertifikat</h1>
                <div class="admin-toolbar">
                    <div class="search-box">
                        <input type="text" id="certificate-search" placeholder="Cari sertifikat...">
                        <button id="search-certificate-btn"><i class="fas fa-search"></i></button>
                    </div>
                    <div class="filter-group">
                        <label for="date-filter">Filter Tanggal:</label>
                        <input type="date" id="date-filter">
                    </div>
                    <button id="export-certificates-btn" class="btn-secondary"><i class="fas fa-file-export"></i> Export Data</button>
                </div>
                <div class="admin-table-container">
                    <table class="admin-table">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Kode Sertifikat</th>
                                <th>Nama Peserta</th>
                                <th>Nilai</th>
                                <th>Tanggal</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="certificates-table">
                            <!-- Data sertifikat akan dimuat di sini -->
                        </tbody>
                    </table>
                    <div class="pagination">
                        <button id="prev-certificate-page" disabled><i class="fas fa-chevron-left"></i></button>
                        <span id="certificate-page-info">Halaman 1 dari 1</span>
                        <button id="next-certificate-page" disabled><i class="fas fa-chevron-right"></i></button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Edit Soal -->
    <div id="edit-question-modal" class="admin-modal">
        <div class="modal-content animate__animated animate__zoomIn">
            <span class="close-modal">&times;</span>
            <h2>Edit Soal</h2>
            <form id="edit-question-form">
                <input type="hidden" id="edit-question-id">
                <div class="form-group">
                    <label for="edit-question-subject">Mata Pelajaran:</label>
                    <select id="edit-question-subject" required>
                        <option value="">Pilih Mata Pelajaran</option>
                        <option value="agama">Agama</option>
                        <option value="ppkn">PPKN</option>
                        <option value="sejarah">Sejarah</option>
                        <option value="ipa">IPA</option>
                        <option value="ips">IPS</option>
                        <option value="matematika">Matematika</option>
                        <option value="bahasa-indonesia">Bahasa Indonesia</option>
                        <option value="bahasa-inggris">Bahasa Inggris</option>
                        <option value="materi-extra">Materi Extra</option>
                        <option value="materi-khusus">Materi Khusus</option>
                        <option value="logika">Logika</option>
                        <option value="cpns">CPNS/P3K</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="edit-question-text">Pertanyaan:</label>
                    <textarea id="edit-question-text" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label>Pilihan Jawaban:</label>
                    <div class="option-group">
                        <input type="text" id="edit-option-0" class="option-input" placeholder="Pilihan A" required>
                        <input type="text" id="edit-option-1" class="option-input" placeholder="Pilihan B" required>
                        <input type="text" id="edit-option-2" class="option-input" placeholder="Pilihan C" required>
                        <input type="text" id="edit-option-3" class="option-input" placeholder="Pilihan D" required>
                        <input type="text" id="edit-option-4" class="option-input" placeholder="Pilihan E" required>
                    </div>
                </div>
                <div class="form-group">
                    <label for="edit-correct-answer">Jawaban Benar:</label>
                    <select id="edit-correct-answer" required>
                        <option value="">Pilih Jawaban Benar</option>
                        <option value="0">A</option>
                        <option value="1">B</option>
                        <option value="2">C</option>
                        <option value="3">D</option>
                        <option value="4">E</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="edit-explanation">Penjelasan Jawaban:</label>
                    <textarea id="edit-explanation" rows="3"></textarea>
                </div>
                <div class="form-group">
                    <button type="submit" class="btn-primary"><i class="fas fa-save"></i> Simpan Perubahan</button>
                    <button type="button" id="delete-question-btn" class="btn-danger"><i class="fas fa-trash"></i> Hapus Soal</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal View Certificate -->
    <div id="view-certificate-modal" class="admin-modal">
        <div class="modal-content animate__animated animate__zoomIn" style="max-width: 800px;">
            <span class="close-modal">&times;</span>
            <h2>Pratinjau Sertifikat</h2>
            <div id="certificate-preview" class="certificate-container">
                <!-- Sertifikat akan ditampilkan di sini -->
            </div>
            <div class="modal-actions">
                <button id="print-certificate-modal-btn" class="btn-primary"><i class="fas fa-print"></i> Cetak</button>
                <button id="close-certificate-modal-btn" class="btn-secondary">Tutup</button>
            </div>
        </div>
    </div>

    <script src="../assets/js/admin.js"></script>
</body>
</html>
