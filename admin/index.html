<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Ujian Online Pergunu</title>
    <link rel="stylesheet" href="../assets/css/style.css">
    <link rel="stylesheet" href="../assets/css/admin.css">
</head>
<body>
    <div class="admin-container">
        <header class="admin-header">
            <h1>Kontrol Panel Admin</h1>
            <nav class="admin-nav">
                <ul>
                    <li><a href="#" data-section="dashboard">Dashboard</a></li>
                    <li><a href="#" data-section="participants">Data Peserta</a></li>
                    <li><a href="#" data-section="questions">Bank Soal</a></li>
                    <li><a href="#" data-section="settings">Pengaturan</a></li>
                    <li><a href="#" id="logout-btn">Keluar</a></li>
                </ul>
            </nav>
        </header>
        
        <main class="admin-main">
            <!-- Dashboard Section -->
            <section id="dashboard-section" class="admin-section active">
                <h2>Dashboard</h2>
                <div class="stats-container">
                    <div class="stat-card">
                        <h3>Total Peserta</h3>
                        <p id="total-participants">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Total Soal</h3>
                        <p id="total-questions">0</p>
                    </div>
                    <div class="stat-card">
                        <h3>Ujian Aktif</h3>
                        <p id="active-exams">0</p>
                    </div>
                </div>
                
                <div class="recent-participants">
                    <h3>Peserta Terakhir</h3>
                    <table>
                        <thead>
                            <tr>
                                <th>Nama</th>
                                <th>Status</th>
                                <th>Ujian</th>
                                <th>Nilai</th>
                                <th>Waktu</th>
                            </tr>
                        </thead>
                        <tbody id="recent-participants-list">
                            <!-- Will be filled dynamically -->
                        </tbody>
                    </table>
                </div>
            </section>
            
            <!-- Participants Section -->
            <section id="participants-section" class="admin-section">
                <h2>Data Peserta</h2>
                <div class="participants-actions">
                    <div class="search-box">
                        <input type="text" id="participant-search" placeholder="Cari peserta...">
                        <button id="search-participant-btn"><i class="fas fa-search"></i></button>
                    </div>
                    <button id="export-participants-btn" class="primary-btn">
                        <i class="fas fa-file-export"></i> Export Data
                    </button>
                </div>
                
                <div class="participants-table-container">
                    <table class="participants-table">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Nama Lengkap</th>
                                <th>Status</th>
                                <th>Tujuan Ujian</th>
                                <th>Kategori</th>
                                <th>Nilai</th>
                                <th>Waktu</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="participants-list">
                            <!-- Will be filled dynamically -->
                        </tbody>
                    </table>
                </div>
                
                <div class="pagination">
                    <button id="prev-page-btn" disabled><i class="fas fa-chevron-left"></i></button>
                    <span id="page-info">Halaman 1 dari 1</span>
                    <button id="next-page-btn" disabled><i class="fas fa-chevron-right"></i></button>
                </div>
            </section>
            
            <!-- Questions Section -->
            <section id="questions-section" class="admin-section">
                <h2>Bank Soal</h2>
                <div class="questions-actions">
                    <div class="filter-box">
                        <select id="category-filter">
                            <option value="">Semua Kategori</option>
                            <option value="agama">AGAMA</option>
                            <option value="ppkn">PPKN</option>
                            <!-- Other categories -->
                        </select>
                        <select id="level-filter">
                            <option value="">Semua Tingkat</option>
                            <option value="sd">SD</option>
                            <option value="smp">SMP</option>
                            <option value="sma">SMA/SMK</option>
                            <option value="umum">Umum</option>
                        </select>
                    </div>
                    <button id="add-question-btn" class="primary-btn">
                        <i class="fas fa-plus"></i> Tambah Soal
                    </button>
                    <button id="ai-generate-btn" class="secondary-btn">
                        <i class="fas fa-robot"></i> Generate dengan AI
                    </button>
                </div>
                
                <div class="questions-table-container">
                    <table class="questions-table">
                        <thead>
                            <tr>
                                <th>No</th>
                                <th>Pertanyaan</th>
                                <th>Kategori</th>
                                <th>Tingkat</th>
                                <th>Point</th>
                                <th>Aksi</th>
                            </tr>
                        </thead>
                        <tbody id="questions-list">
                            <!-- Will be filled dynamically -->
                        </tbody>
                    </table>
                </div>
                
                <div class="pagination">
                    <button id="prev-question-page-btn" disabled><i class="fas fa-chevron-left"></i></button>
                    <span id="question-page-info">Halaman 1 dari 1</span>
                    <button id="next-question-page-btn" disabled><i class="fas fa-chevron-right"></i></button>
                </div>
            </section>
            
            <!-- Settings Section -->
            <section id="settings-section" class="admin-section">
                <h2>Pengaturan Sistem</h2>
                
                <div class="settings-tabs">
                    <div class="tab-buttons">
                        <button class="tab-btn active" data-tab="codes-tab">Kode Akses</button>
                        <button class="tab-btn" data-tab="messages-tab">Pesan & Notifikasi</button>
                        <button class="tab-btn" data-tab="exam-tab">Pengaturan Ujian</button>
                    </div>
                    
                    <div class="tab-content active" id="codes-tab">
                        <div class="setting-group">
                            <h3>Kode Login Peserta</h3>
                            <div class="setting-control">
                                <label>Kode Baru:</label>
                                <input type="password" id="new-login-code" class="form-input">
                                <button id="save-login-code-btn" class="primary-btn">Simpan</button>
                            </div>
                            <p class="setting-info">Kode saat ini: <span id="current-login-code">12345</span></p>
                        </div>
                        
                        <div class="setting-group">
                            <h3>Kode Ujian CPNS/P3K</h3>
                            <div class="setting-control">
                                <label>Kode Baru:</label>
                                <input type="password" id="new-cpns-code" class="form-input">
                                <button id="save-cpns-code-btn" class="primary-btn">Simpan</button>
                            </div>
                            <p class="setting-info">Kode saat ini: <span id="current-cpns-code">OPENLOCK-1945</span></p>
                        </div>
                        
                        <div class="setting-group">
                            <h3>Kode Bank Soal</h3>
                            <div class="setting-control">
                                <label>Kode Baru:</label>
                                <input type="password" id="new-bank-code" class="form-input">
                                <button id="save-bank-code-btn" class="primary-btn">Simpan</button>
                            </div>
                            <p class="setting-info">Kode saat ini: <span id="current-bank-code">OPENLOCK-1926</span></p>
                        </div>
                        
                        <div class="setting-group">
                            <h3>Kode Admin Panel</h3>
                            <div class="setting-control">
                                <label>Kode Baru:</label>
                                <input type="password" id="new-admin-code" class="form-input">
                                <button id="save-admin-code-btn" class="primary-btn">Simpan</button>
                            </div>
                            <p class="setting-info">Kode saat ini: <span id="current-admin-code">65614222</span></p>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="messages-tab">
                        <div class="setting-group">
                            <h3>Pesan Sambutan</h3>
                            <div class="setting-control">
                                <label>Pesan:</label>
                                <textarea id="welcome-message" class="form-input" rows="4"></textarea>
                                <button id="save-welcome-message-btn" class="primary-btn">Simpan</button>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3>Pesan Informasi Berkala</h3>
                            <div class="setting-control">
                                <label>Pesan:</label>
                                <textarea id="info-message" class="form-input" rows="4"></textarea>
                                <button id="save-info-message-btn" class="primary-btn">Simpan</button>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3>Pesan Motivasi Sertifikat</h3>
                            <div class="setting-control">
                                <label>Nilai 90-100:</label>
                                <input type="text" id="motivation-90" class="form-input">
                                
                                <label>Nilai 75-89:</label>
                                <input type="text" id="motivation-75" class="form-input">
                                
                                <label>Nilai 60-74:</label>
                                <input type="text" id="motivation-60" class="form-input">
                                
                                <label>Nilai 0-59:</label>
                                <input type="text" id="motivation-0" class="form-input">
                                
                                <button id="save-motivations-btn" class="primary-btn">Simpan Semua</button>
                            </div>
                        </div>
                    </div>
                    
                    <div class="tab-content" id="exam-tab">
                        <div class="setting-group">
                            <h3>Pengaturan Timer Ujian</h3>
                            <div class="setting-control">
                                <label>Durasi Ujian (menit):</label>
                                <input type="number" id="exam-duration" class="form-input" min="5" max="180" value="120">
                                <button id="save-exam-duration-btn" class="primary-btn">Simpan</button>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3>Pengaturan Soal</h3>
                            <div class="setting-control">
                                <label>Jumlah Soal per Ujian:</label>
                                <select id="questions-per-exam" class="form-select">
                                    <option value="10">10 Soal</option>
                                    <option value="20">20 Soal</option>
                                    <option value="30">30 Soal</option>
                                    <option value="50">50 Soal</option>
                                    <option value="100">100 Soal</option>
                                    <option value="150">150 Soal</option>
                                </select>
                                <button id="save-questions-count-btn" class="primary-btn">Simpan</button>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3>Pengacakan Soal</h3>
                            <div class="setting-control">
                                <label class="switch">
                                    <input type="checkbox" id="randomize-questions" checked>
                                    <span class="slider"></span>
                                </label>
                                <span>Acak urutan soal</span>
                                <button id="save-randomize-btn" class="primary-btn">Simpan</button>
                            </div>
                        </div>
                        
                        <div class="setting-group">
                            <h3>Nama Ketua Pergunu</h3>
                            <div class="setting-control">
                                <label>Nama:</label>
                                <input type="text" id="chairman-name" class="form-input">
                                <button id="save-chairman-name-btn" class="primary-btn">Simpan</button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Question Editor Modal -->
    <div id="question-editor-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 id="editor-title">Tambah Soal Baru</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <form id="question-form">
                    <div class="form-group">
                        <label for="editor-category">Kategori:</label>
                        <select id="editor-category" class="form-select" required>
                            <option value="">Pilih Kategori</option>
                            <option value="agama">AGAMA</option>
                            <option value="ppkn">PPKN</option>
                            <!-- Other categories -->
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editor-level">Tingkat:</label>
                        <select id="editor-level" class="form-select" required>
                            <option value="">Pilih Tingkat</option>
                            <option value="sd">SD</option>
                            <option value="smp">SMP</option>
                            <option value="sma">SMA/SMK</option>
                            <option value="umum">Umum</option>
                        </select>
                    </div>
                    
                    <div class="form-group">
                        <label for="editor-text">Pertanyaan:</label>
                        <textarea id="editor-text" class="form-input" rows="3" required></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label>Gambar (opsional):</label>
                        <input type="file" id="editor-image" accept="image/*">
                    </div>
                    
                    <div class="form-group">
                        <label>Opsi Jawaban:</label>
                        <div class="options-container">
                            <div class="option-input">
                                <label>A:</label>
                                <input type="text" class="option-text" required>
                                <label class="correct-option">
                                    <input type="radio" name="correct-option" value="0" required>
                                    Benar
                                </label>
                            </div>
                            <!-- Repeat for options B-E -->
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="editor-explanation">Penjelasan Jawaban:</label>
                        <textarea id="editor-explanation" class="form-input" rows="2"></textarea>
                    </div>
                    
                    <div class="form-group">
                        <label for="editor-points">Point:</label>
                        <input type="number" id="editor-points" class="form-input" min="1" max="10" value="1">
                    </div>
                    
                    <div class="form-actions">
                        <button type="button" id="cancel-question-btn" class="secondary-btn">Batal</button>
                        <button type="submit" id="save-question-btn" class="primary-btn">Simpan Soal</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- AI Generator Modal -->
    <div id="ai-generator-modal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Generate Soal dengan AI</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="ai-prompt">Instruksi untuk AI:</label>
                    <textarea id="ai-prompt" class="form-input" rows="4" placeholder="Contoh: Buatkan 5 soal pilihan ganda tentang sejarah kemerdekaan Indonesia untuk tingkat SMA"></textarea>
                </div>
                
                <div class="form-group">
                    <label for="ai-category">Kategori:</label>
                    <select id="ai-category" class="form-select">
                        <option value="agama">AGAMA</option>
                        <option value="ppkn">PPKN</option>
                        <!-- Other categories -->
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="ai-level">Tingkat:</label>
                    <select id="ai-level" class="form-select">
                        <option value="sd">SD</option>
                        <option value="smp">SMP</option>
                        <option value="sma">SMA/SMK</option>
                        <option value="umum">Umum</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="ai-count">Jumlah Soal:</label>
                    <input type="number" id="ai-count" class="form-input" min="1" max="20" value="5">
                </div>
                
                <div class="form-actions">
                    <button type="button" id="cancel-ai-btn" class="secondary-btn">Batal</button>
                    <button type="button" id="generate-ai-btn" class="primary-btn">
                        <i class="fas fa-robot"></i> Generate
                    </button>
                </div>
                
                <div id="ai-loading" style="display:none;">
                    <p>Sedang memproses permintaan...</p>
                    <div class="loader"></div>
                </div>
                
                <div id="ai-results" style="display:none;">
                    <h4>Hasil Generate:</h4>
                    <div id="ai-generated-questions">
                        <!-- Generated questions will appear here -->
                    </div>
                    <button type="button" id="save-ai-questions-btn" class="primary-btn">
                        <i class="fas fa-save"></i> Simpan Semua Soal
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="../assets/js/admin.js"></script>
</body>
</html>
