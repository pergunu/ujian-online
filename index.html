<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online - Pergunu Situbondo</title>
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="assets/images/logo.png">
</head>
<body>
    <!-- Background Particle -->
    <div id="particles-js"></div>
    
    <!-- Opening Screen -->
    <div class="opening-screen" id="openingScreen">
        <div class="opening-content animate__animated animate__fadeIn">
            <img src="assets/images/logo.png" alt="Logo Pergunu" class="logo">
            <h1>Selamat Datang di Ujian Online</h1>
            <p id="greetingText">Sistem Ujian Online oleh Pergunu Situbondo</p>
            <div class="login-form animate__animated animate__fadeInUp">
                <input type="password" id="accessCode" placeholder="Masukkan Kode Ujian">
                <button id="enterBtn" class="btn-gradient">Masuk</button>
            </div>
        </div>
        <audio id="openingAudio" src="assets/audio/opening.mp3" autoplay></audio>
    </div>

    <!-- Terms and Conditions -->
    <div class="container terms-container hidden" id="termsContainer">
        <div class="card animate__animated animate__slideInRight">
            <h2>Syarat & Ketentuan Ujian</h2>
            <div class="terms-content">
                <p>Dikembangkan oleh Cendhanu Tim Kreator PERGUNU SITUBONDO</p>
                <ol>
                    <li>Peserta wajib mengisi data diri dengan benar</li>
                    <li>Dilarang keras melakukan kecurangan selama ujian</li>
                    <li>Waktu ujian tidak dapat ditambah setelah habis</li>
                    <li>Jawaban yang sudah dikirim tidak dapat diubah</li>
                    <li>Sertifikat hanya diberikan kepada peserta yang menyelesaikan ujian</li>
                </ol>
            </div>
            <div class="terms-checkbox">
                <input type="checkbox" id="agreeCheckbox">
                <label for="agreeCheckbox">Saya menyetujui syarat dan ketentuan di atas</label>
            </div>
            <button id="continueBtn" class="btn-gradient" disabled>Lanjut Ikut Ujian</button>
        </div>
    </div>

    <!-- Participant Form -->
    <div class="container form-container hidden" id="participantForm">
        <div class="card animate__animated animate__slideInLeft">
            <h2>Formulir Data Peserta</h2>
            <form id="participantDataForm">
                <div class="form-group">
                    <label for="fullName">Nama Lengkap:</label>
                    <input type="text" id="fullName" required>
                </div>
                
                <div class="form-group">
                    <label>Status:</label>
                    <div class="radio-group">
                        <input type="radio" id="student" name="status" value="pelajar" checked>
                        <label for="student">Pelajar</label>
                        <input type="radio" id="general" name="status" value="umum">
                        <label for="general">Umum</label>
                    </div>
                </div>
                
                <!-- Student Fields -->
                <div class="form-group student-fields">
                    <label for="schoolName">Nama Sekolah:</label>
                    <input type="text" id="schoolName">
                </div>
                
                <div class="form-group student-fields">
                    <label for="studentId">NIS (Nomor Induk Siswa):</label>
                    <input type="number" id="studentId" pattern="[0-9]*" inputmode="numeric">
                </div>
                
                <div class="form-group student-fields">
                    <label>Tujuan Ikut Ujian:</label>
                    <select id="studentPurpose">
                        <option value="tugas_sekolah">Tugas Sekolah</option>
                        <option value="tugas_ulangan">Tugas Ulangan</option>
                        <option value="tes_belajar">Tes dan Belajar</option>
                    </select>
                </div>
                
                <div class="form-group student-fields">
                    <label>Tingkat Sekolah:</label>
                    <div class="radio-group">
                        <input type="radio" id="elementary" name="schoolLevel" value="SD">
                        <label for="elementary">SD</label>
                        <input type="radio" id="juniorHigh" name="schoolLevel" value="SMP">
                        <label for="juniorHigh">SMP</label>
                        <input type="radio" id="seniorHigh" name="schoolLevel" value="SMA/SMK">
                        <label for="seniorHigh">SMA/SMK</label>
                    </div>
                </div>
                
                <!-- General Public Fields -->
                <div class="form-group general-fields hidden">
                    <label for="address">Alamat:</label>
                    <input type="text" id="address">
                    <button type="button" id="getLocationBtn" class="btn-small">Dapatkan Lokasi Otomatis</button>
                    <small id="locationText"></small>
                </div>
                
                <div class="form-group general-fields hidden">
                    <label for="whatsapp">Nomor WhatsApp Aktif:</label>
                    <input type="tel" id="whatsapp" pattern="[0-9]{10,13}">
                </div>
                
                <div class="form-group general-fields hidden">
                    <label for="email">Alamat Email:</label>
                    <input type="email" id="email" pattern="[a-z0-9._%+-]+@(gmail|yahoo|hotmail)\.com$">
                </div>
                
                <div class="form-group general-fields hidden">
                    <label>Tujuan Ikut Ujian:</label>
                    <select id="generalPurpose">
                        <option value="tes_iq">Tes IQ</option>
                        <option value="cpns">Ujian CPNS/P3K</option>
                    </select>
                </div>
                
                <div class="info-box">
                    <p id="periodInfo">Informasi berkala akan ditampilkan di sini</p>
                </div>
                
                <button type="submit" class="btn-gradient">Simpan & Ikut Ujian</button>
            </form>
        </div>
    </div>

    <!-- Exam Level Selection -->
    <div class="container level-container hidden" id="levelContainer">
        <div class="card animate__animated animate__zoomIn">
            <h2>Pilih Tingkat Ujian</h2>
            
            <!-- Student Levels -->
            <div class="student-levels">
                <h3>Tingkat Pelajar</h3>
                <div class="level-buttons">
                    <!-- SD Levels -->
                    <div class="level-group sd-levels">
                        <h4>SD</h4>
                        <button class="btn-level roman">IV</button>
                        <button class="btn-level roman">V</button>
                        <button class="btn-level roman">VI</button>
                    </div>
                    
                    <!-- SMP Levels -->
                    <div class="level-group smp-levels">
                        <h4>SMP</h4>
                        <button class="btn-level roman">VII</button>
                        <button class="btn-level roman">VIII</button>
                        <button class="btn-level roman">IX</button>
                    </div>
                    
                    <!-- SMA Levels -->
                    <div class="level-group sma-levels">
                        <h4>SMA/SMK</h4>
                        <button class="btn-level roman">X</button>
                        <button class="btn-level roman">XI</button>
                        <button class="btn-level roman">XII</button>
                    </div>
                </div>
                
                <h3>Pilih Jenis Ujian</h3>
                <div class="subject-buttons">
                    <button class="btn-subject">AGAMA</button>
                    <button class="btn-subject">PPKN</button>
                    <button class="btn-subject">SEJARAH</button>
                    <button class="btn-subject">IPA</button>
                    <button class="btn-subject">IPS</button>
                    <button class="btn-subject">MATEMATIKA</button>
                    <button class="btn-subject">BAHASA INDONESIA</button>
                    <button class="btn-subject">BAHASA INGGRIS</button>
                    <button class="btn-subject">MATERI EXTRA</button>
                    <button class="btn-subject">MATERI KHUSUS</button>
                </div>
            </div>
            
            <!-- General Public Levels -->
            <div class="general-levels hidden">
                <h3>Tingkat Umum</h3>
                <div class="level-buttons">
                    <button class="btn-level">Tes IQ</button>
                    <button class="btn-level">Ujian CPNS/P3K</button>
                </div>
                
                <!-- CPNS License Code -->
                <div class="license-form hidden" id="cpnsLicenseForm">
                    <h4>Masukkan Kode Lisensi Ujian CPNS/P3K</h4>
                    <input type="password" id="cpnsLicenseCode" placeholder="Kode Lisensi">
                    <button id="verifyLicenseBtn" class="btn-small">Verifikasi</button>
                </div>
            </div>
            
            <div class="info-box">
                <p id="examInfo">Informasi ujian akan ditampilkan di sini</p>
            </div>
        </div>
    </div>

    <!-- Exam Screen -->
    <div class="container exam-container hidden" id="examContainer">
        <div class="exam-header">
            <div class="exam-timer" id="examTimer">120:00</div>
            <div class="exam-progress">
                <span id="currentQuestion">1</span> / <span id="totalQuestions">10</span>
            </div>
        </div>
        
        <div class="exam-card">
            <div class="question-container" id="questionContainer">
                <h3 class="question-text" id="questionText">Memuat soal...</h3>
                <div class="options-container" id="optionsContainer">
                    <!-- Options will be inserted here by JavaScript -->
                </div>
                
                <div class="explanation hidden" id="explanationContainer">
                    <h4>Penjelasan:</h4>
                    <p id="explanationText"></p>
                </div>
            </div>
            
            <div class="exam-controls">
                <button id="finishExamBtn" class="btn-exam">Selesaikan Ujian Sekarang</button>
                <button id="skipQuestionBtn" class="btn-exam">Lewati Soal</button>
                <button id="unansweredBtn" class="btn-exam">Soal Belum Dijawab</button>
            </div>
        </div>
        
        <div class="time-warning hidden" id="timeWarning">
            <p>Perhatian! Ujian akan berakhir dalam waktu <span id="remainingMinutes">10</span> menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.</p>
        </div>
    </div>

    <!-- Results Screen -->
    <div class="container results-container hidden" id="resultsContainer">
        <div class="results-card animate__animated animate__zoomIn">
            <h2>Hasil Ujian</h2>
            <div class="results-summary">
                <div class="result-item">
                    <span class="result-label">Total Soal:</span>
                    <span class="result-value" id="totalQuestionsResult">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Jawaban Benar:</span>
                    <span class="result-value correct" id="correctAnswers">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Jawaban Salah:</span>
                    <span class="result-value wrong" id="wrongAnswers">0</span>
                </div>
                <div class="result-item">
                    <span class="result-label">Tidak Dijawab:</span>
                    <span class="result-value unanswered" id="unansweredQuestions">0</span>
                </div>
                <div class="result-item score">
                    <span class="result-label">Nilai Akhir:</span>
                    <span class="result-value" id="finalScore">0</span>
                </div>
            </div>
            
            <div class="results-actions">
                <button id="printCertificateBtn" class="btn-gradient">Cetak Sertifikat</button>
                <button id="retryExamBtn" class="btn-outline">Ulangi Ujian</button>
            </div>
        </div>
    </div>

    <!-- Certificate -->
    <div class="certificate-container hidden" id="certificateContainer">
        <div class="certificate" id="certificate">
            <img src="assets/images/certificate.png" alt="Background Sertifikat" class="certificate-bg">
            
            <div class="certificate-content">
                <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                <p class="certificate-given">Diberikan Kepada:</p>
                <h2 class="certificate-name" id="certificateName">NAMA PESERTA</h2>
                
                <p class="certificate-achievement">
                    Atas Partisipasi & Pencapaian Luar Biasa dalam <strong>Ujian Pergunu Situbondo</strong>
                </p>
                
                <p class="certificate-description">
                    Sebagai penghargaan atas dedikasi dalam memahami materi ujian dan mengasah logika, sertifikat ini diberikan sebagai motivasi untuk terus berkembang.
                </p>
                
                <div class="certificate-score">
                    <span class="score-label">Score:</span>
                    <span class="score-value" id="certificateScore">0</span>
                </div>
                
                <p class="certificate-motivation" id="certificateMotivation">
                    Sempurna! Anda sangat luar biasa dalam menguasai materi ini. Pertahankan prestasi ini.
                </p>
                
                <div class="certificate-footer">
                    <p class="certificate-period" id="certificatePeriod">Ditetapkan di: Situbondo, 16 Mei 2025</p>
                    <p class="certificate-chairman">Ketua Pergunu Situbondo</p>
                    <p class="chairman-name">Moh. Nuril Hudha, S.Pd., M.Si.</p>
                </div>
                
                <div class="certificate-code" id="certificateCode">
                    USWATUN HASANAH/PELAJAR/SMA/IPS/16052025/T9B3-S6M3/PERGUNU-STB
                </div>
                
                <img src="assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
            </div>
        </div>
        
        <div class="certificate-actions">
            <button id="printBtn" class="btn-gradient">Cetak Sertifikat</button>
            <button id="closeCertificateBtn" class="btn-outline">Tutup</button>
        </div>
    </div>

    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn share-btn" id="shareBtn" title="Bagikan">
            <i class="fas fa-share-alt"></i>
        </button>
        
        <button class="floating-btn whatsapp-btn" id="whatsappBtn" title="Chat Admin">
            <i class="fab fa-whatsapp"></i>
        </button>
        
        <button class="floating-btn question-btn" id="questionBankBtn" title="Bank Soal">
            <i class="fas fa-book"></i>
        </button>
        
        <button class="floating-btn admin-btn" id="adminPanelBtn" title="Admin Panel">
            <i class="fas fa-cog"></i>
        </button>
    </div>

    <!-- Modals -->
    <div class="modal hidden" id="shareModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Bagikan Ujian Online</h3>
            <div class="social-links" id="socialLinks">
                <!-- Social links will be added by JavaScript -->
            </div>
        </div>
    </div>

    <div class="modal hidden" id="questionBankModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Bank Soal</h3>
            <div class="bank-access">
                <input type="password" id="bankAccessCode" placeholder="Masukkan Kode Bank Soal">
                <button id="accessBankBtn" class="btn-small">Akses</button>
            </div>
            <div class="bank-content hidden" id="bankContent">
                <!-- Bank content will be loaded here -->
            </div>
        </div>
    </div>

    <div class="modal hidden" id="adminModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Kontrol Panel Admin</h3>
            <div class="admin-access">
                <input type="password" id="adminAccessCode" placeholder="Masukkan Kode Admin">
                <button id="accessAdminBtn" class="btn-small">Akses</button>
            </div>
            <div class="admin-content hidden" id="adminContent">
                <!-- Admin content will be loaded here -->
            </div>
        </div>
    </div>

    <div class="modal hidden" id="messageModal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3 id="messageTitle">Pesan</h3>
            <p id="messageText"></p>
            <button id="messageOkBtn" class="btn-small">OK</button>
        </div>
    </div>

    <audio id="correctAudio" src="assets/audio/jawabanbenar.mp3"></audio>
    <audio id="wrongAudio" src="assets/audio/jawabansalah.mp3"></audio>
    <audio id="buttonAudio" src="assets/audio/audiotombol.mp3"></audio>
    <audio id="applauseAudio" src="assets/audio/applause.mp3"></audio>

    <script src="assets/js/particles.js"></script>
    <script src="assets/js/gps.js"></script>
    <script src="assets/js/timer.js"></script>
    <script src="assets/js/certificate.js"></script>
    <script src="assets/js/questions.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html>
