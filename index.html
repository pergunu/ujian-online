<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ujian Online - Pergunu Situbondo</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <link rel="stylesheet" href="assets/css/style.css">
  <link rel="stylesheet" href="assets/css/animate.css">
</head>
<body>
    <!-- Background Particle -->
    <div id="particles-js"></div>
    
    <!-- Opening Screen -->
  <div class="opening-screen" style="display: flex;">
    <div class="container">
      <div class="card text-center">
        <img src="assets/images/logo.png" alt="Logo Pergunu" style="max-width: 150px; margin-bottom: 1rem;">
        <h1 style="margin-bottom: 1.5rem;">Selamat Datang di Ujian Online Pergunu Situbondo</h1>
        
        <div class="form-group" style="max-width: 400px; margin: 0 auto;">
          <input type="password" id="login-code" class="form-control" placeholder="Masukkan Kode Ujian" style="margin-bottom: 1rem;">
          <button id="login-btn" class="btn btn-primary" style="width: 100%;">
            <i class="fas fa-sign-in-alt"></i> Masuk
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- Terms and Conditions -->
  <div class="terms-container" style="display: none;">
    <div class="container">
      <div class="card">
        <h2 style="text-align: center; margin-bottom: 1.5rem;">Peraturan & Kebijakan Ujian</h2>
        
        <div style="margin-bottom: 2rem;">
          <p style="text-align: center; font-weight: 500; margin-bottom: 1rem;">
            Dikembangkan oleh Cendhanu Tim Kreator PERGUNU SITUBONDO
          </p>
          
          <ol style="line-height: 1.6; padding-left: 1.2rem;">
            <li style="margin-bottom: 0.5rem;">Peserta wajib mengisi data diri dengan benar dan valid</li>
            <li style="margin-bottom: 0.5rem;">Dilarang keras melakukan kecurangan selama ujian berlangsung</li>
            <li style="margin-bottom: 0.5rem;">Setiap peserta hanya diperbolehkan mengikuti ujian sekali dalam satu periode</li>
          </ol>
        </div>
        
        <div style="display: flex; align-items: center; margin-bottom: 1.5rem;">
          <input type="checkbox" id="agree-terms" style="margin-right: 0.5rem;">
          <label for="agree-terms">Saya menyetujui semua peraturan dan kebijakan ujian ini</label>
        </div>
        
        <button id="continue-btn" class="btn btn-primary" style="width: 100%;" disabled>
          <i class="fas fa-arrow-right"></i> Lanjut Ikut Ujian
        </button>
      </div>
    </div>
  </div>

  <!-- Participant Form -->
  <div class="participant-form" style="display: none;">
    <div class="container">
      <div class="card">
        <h2 style="text-align: center; margin-bottom: 1.5rem;">Formulir Data Peserta</h2>
        
        <form id="participant-data">
          <div style="margin-bottom: 1.5rem;">
            <label for="fullname" style="display: block; margin-bottom: 0.5rem;">Nama Lengkap:</label>
            <input type="text" id="fullname" class="form-control" required>
          </div>
          
          <!-- Tambahkan field lainnya sesuai kebutuhan -->
          
          <button type="submit" class="btn btn-primary" style="width: 100%;">
            <i class="fas fa-save"></i> Simpan & Ikut Ujian
          </button>
        </form>
      </div>
    </div>
  </div>
                
                <!-- Student Fields -->
                <div class="form-group student-fields">
                    <label for="school">Nama Sekolah:</label>
                    <input type="text" id="school" required>
                </div>
                
                <div class="form-group student-fields">
                    <label for="nis">NIS (Nomor Induk Siswa):</label>
                    <input type="number" id="nis" pattern="\d*" required>
                </div>
                
                <div class="form-group student-fields">
                    <label>Tujuan Ikut Ujian:</label>
                    <select id="student-purpose" required>
                        <option value="">Pilih Tujuan</option>
                        <option value="tugas-sekolah">Tugas Sekolah</option>
                        <option value="tugas-ulangan">Tugas Ulangan</option>
                        <option value="tes-belajar">Tes dan Belajar</option>
                    </select>
                </div>
                
                <div class="form-group student-fields">
                    <label>Tingkat Sekolah:</label>
                    <div class="radio-group">
                        <input type="radio" id="elementary" name="school-level" value="SD">
                        <label for="elementary">SD</label>
                        <input type="radio" id="junior-high" name="school-level" value="SMP">
                        <label for="junior-high">SMP</label>
                        <input type="radio" id="senior-high" name="school-level" value="SMA/SMK">
                        <label for="senior-high">SMA/SMK</label>
                    </div>
                </div>
                
                <!-- General Public Fields -->
                <div class="form-group general-fields hidden">
                    <label for="address">Alamat:</label>
                    <input type="text" id="address" required>
                    <button type="button" id="get-location" class="btn-small">Gunakan Lokasi Saat Ini</button>
                    <small id="location-text"></small>
                </div>
                
                <div class="form-group general-fields hidden">
                    <label for="whatsapp">Nomor WhatsApp Aktif:</label>
                    <input type="tel" id="whatsapp" pattern="[0-9]{10,13}" required>
                </div>
                
                <div class="form-group general-fields hidden">
                    <label for="email">Email:</label>
                    <input type="email" id="email" pattern="[a-z0-9._%+-]+@(gmail|yahoo|hotmail)\.com" required>
                </div>
                
                <div class="form-group general-fields hidden">
                    <label>Tujuan Ikut Ujian:</label>
                    <select id="general-purpose" required>
                        <option value="">Pilih Tujuan</option>
                        <option value="tes-iq">Tes IQ</option>
                        <option value="ujian-cpns">Ujian CPNS/P3K</option>
                    </select>
                </div>
                
                <!-- CPNS License Field -->
                <div class="form-group hidden" id="cpns-license-group">
                    <label for="cpns-license">Kode Lisensi Ujian CPNS/P3K:</label>
                    <input type="password" id="cpns-license" placeholder="Masukkan Kode Lisensi">
                </div>
                
                <div class="form-actions">
                    <button type="submit" class="btn-gradient">Simpan & Ikut Ujian</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Exam Selection -->
    <div class="exam-selection hidden animate__animated">
        <div class="selection-container">
            <h2>Pilih Jenis Ujian</h2>
            
            <!-- Student Exam Options -->
            <div class="student-options">
                <h3>Tingkat Pelajar</h3>
                <div class="grade-buttons">
                    <!-- SD Options -->
                    <div class="grade-option sd-options hidden">
                        <h4>Kelas:</h4>
                        <button class="btn-roman grade-btn" data-grade="IV">IV</button>
                        <button class="btn-roman grade-btn" data-grade="V">V</button>
                        <button class="btn-roman grade-btn" data-grade="VI">VI</button>
                    </div>
                    
                    <!-- SMP Options -->
                    <div class="grade-option smp-options hidden">
                        <h4>Kelas:</h4>
                        <button class="btn-roman grade-btn" data-grade="VII">VII</button>
                        <button class="btn-roman grade-btn" data-grade="VIII">VIII</button>
                        <button class="btn-roman grade-btn" data-grade="IX">IX</button>
                    </div>
                    
                    <!-- SMA Options -->
                    <div class="grade-option sma-options hidden">
                        <h4>Kelas:</h4>
                        <button class="btn-roman grade-btn" data-grade="X">X</button>
                        <button class="btn-roman grade-btn" data-grade="XI">XI</button>
                        <button class="btn-roman grade-btn" data-grade="XII">XII</button>
                    </div>
                </div>
                
                <div class="subject-buttons">
                    <h4>Mata Pelajaran:</h4>
                    <button class="subject-btn" data-subject="agama">AGAMA</button>
                    <button class="subject-btn" data-subject="ppkn">PPKN</button>
                    <button class="subject-btn" data-subject="sejarah">SEJARAH</button>
                    <button class="subject-btn" data-subject="ipa">IPA</button>
                    <button class="subject-btn" data-subject="ips">IPS</button>
                    <button class="subject-btn" data-subject="matematika">MATEMATIKA</button>
                    <button class="subject-btn" data-subject="bahasa-indonesia">BAHASA INDONESIA</button>
                    <button class="subject-btn" data-subject="bahasa-inggris">BAHASA INGGRIS</button>
                    <button class="subject-btn" data-subject="materi-extra">MATERI EXTRA</button>
                    <button class="subject-btn" data-subject="materi-khusus">MATERI KHUSUS</button>
                </div>
            </div>
            
            <!-- General Public Exam Options -->
            <div class="general-options hidden">
                <h3>Tingkat Umum</h3>
                <div class="exam-type-buttons">
                    <button class="exam-type-btn" data-exam="logika">Ujian Logika</button>
                    <button class="exam-type-btn" data-exam="cpns">Ujian CPNS/P3K</button>
                </div>
            </div>
            
            <div class="info-box">
                <p id="periodic-info">Informasi berkala akan ditampilkan di sini. Konten ini dapat diubah melalui kontrol panel admin.</p>
            </div>
            
            <button id="start-exam-btn" class="btn-gradient hidden">Mulai Ujian Sekarang</button>
        </div>
    </div>

    <!-- Exam Screen -->
    <div class="exam-screen hidden">
        <div class="exam-header">
            <div class="exam-timer">
                <span id="timer">120:00</span>
            </div>
            <div class="exam-progress">
                <div class="progress-bar">
                    <div class="progress-fill"></div>
                </div>
                <span class="progress-text">Soal 1 dari 10</span>
            </div>
        </div>
        
        <div class="exam-content">
            <div class="question-container">
                <h3 class="question-text" id="question-text">Loading question...</h3>
                <div class="options-container" id="options-container">
                    <!-- Options will be loaded here -->
                </div>
            </div>
            
            <div class="answer-explanation hidden" id="explanation-container">
                <h4>Penjelasan Jawaban:</h4>
                <p id="explanation-text"></p>
            </div>
        </div>
        
        <div class="exam-footer">
            <button id="finish-exam-btn" class="btn-exam-action">Selesaikan Ujian Sekarang</button>
            <button id="skip-question-btn" class="btn-exam-action">Lewati Soal</button>
            <button id="unanswered-btn" class="btn-exam-action">Soal Belum Dijawab</button>
        </div>
        
        <div class="time-warning hidden" id="time-warning">
            <p>Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.</p>
        </div>
        
        <audio id="correct-audio" src="assets/audio/jawabanbenar.mp3"></audio>
        <audio id="wrong-audio" src="assets/audio/jawabansalah.mp3"></audio>
        <audio id="button-audio" src="assets/audio/audiotombol.mp3"></audio>
    </div>

    <!-- Results Screen -->
    <div class="results-screen hidden">
        <div class="results-container">
            <h2>Hasil Ujian Anda</h2>
            
            <div class="results-summary">
                <div class="result-card">
                    <h3>Total Soal</h3>
                    <p id="total-questions">0</p>
                </div>
                <div class="result-card correct">
                    <h3>Jawaban Benar</h3>
                    <p id="correct-answers">0</p>
                </div>
                <div class="result-card wrong">
                    <h3>Jawaban Salah</h3>
                    <p id="wrong-answers">0</p>
                </div>
                <div class="result-card score">
                    <h3>Nilai Akhir</h3>
                    <p id="final-score">0</p>
                </div>
            </div>
            
            <div class="results-actions">
                <button id="view-certificate-btn" class="btn-gradient">Lihat Sertifikat</button>
                <button id="retake-exam-btn" class="btn-outline">Ulangi Ujian</button>
            </div>
        </div>
    </div>

    <!-- Certificate Screen -->
    <div class="certificate-screen hidden">
        <div class="certificate-container" id="certificate-print">
            <img src="assets/images/certificate.png" alt="Background Sertifikat" class="certificate-bg">
            
            <div class="certificate-content">
                <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                <p class="certificate-given">Diberikan Kepada:</p>
                <h2 class="certificate-name" id="cert-name">NAMA PESERTA</h2>
                
                <p class="certificate-achievement">
                    Atas Partisipasi & Pencapaian Luar Biasa dalam <strong>Ujian Pergunu Situbondo</strong>
                </p>
                
                <p class="certificate-description">
                    Sebagai penghargaan atas dedikasi dalam memahami materi ujian dan mengasah logika, sertifikat ini diberikan sebagai motivasi untuk terus berkembang.
                </p>
                
                <div class="certificate-score">
                    <p>Nilai: <span id="cert-score">0</span></p>
                </div>
                
                <p class="certificate-motivation" id="cert-motivation">
                    Sempurna! Anda sangat luar biasa dalam menguasai materi ini. Pertahankan prestasi ini.
                </p>
                
                <div class="certificate-footer">
                    <p class="certificate-period">Ditetapkan di: Situbondo, <span id="cert-date">16 Mei 2025</span></p>
                    <p class="certificate-chairman">Ketua Pergunu Situbondo</p>
                    <p class="certificate-chairman-name" id="chairman-name">Moh. Nuril Hudha, S.Pd., M.Si.</p>
                </div>
                
                <div class="certificate-code">
                    <p id="cert-code">USWATUN HASANAH/PELAJAR/SMA/IPS/16052025/T9B3-S6M3/PERGUNU-STB</p>
                </div>
                
                <img src="assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
            </div>
        </div>
        
        <div class="certificate-actions">
            <button id="print-certificate-btn" class="btn-gradient"><i class="fas fa-print"></i> Cetak Sertifikat</button>
            <button id="back-to-results-btn" class="btn-outline"><i class="fas fa-arrow-left"></i> Kembali ke Hasil</button>
        </div>
        
        <audio id="applause-audio" src="assets/audio/applause.mp3"></audio>
    </div>

    <!-- Floating Buttons -->
    <div class="floating-buttons">
        <button class="floating-btn share-btn" title="Bagikan">
            <i class="fas fa-share-alt"></i>
        </button>
        <button class="floating-btn whatsapp-btn" title="Chat Admin">
            <i class="fab fa-whatsapp"></i>
        </button>
        <button class="floating-btn question-bank-btn" title="Bank Soal">
            <i class="fas fa-book"></i>
        </button>
        <button class="floating-btn admin-panel-btn" title="Admin Panel">
            <i class="fas fa-cog"></i>
        </button>
    </div>

    <!-- Modals -->
    <div class="modal hidden" id="share-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Bagikan Ujian Online</h3>
            <div class="social-links">
                <!-- Links will be added dynamically from admin panel -->
            </div>
            <div class="copy-link">
                <input type="text" id="page-link" value="https://pergunu-situbondo.com/ujian-online" readonly>
                <button id="copy-link-btn">Salin Tautan</button>
            </div>
        </div>
    </div>

    <div class="modal hidden" id="whatsapp-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Hubungi Admin</h3>
            <p>Kirim pesan WhatsApp ke admin untuk pertanyaan lebih lanjut:</p>
            <a href="https://wa.me/6285647709114?text=Assalamualaikum%20mas%20admin,%20saya%20mau%20tanya%20sesuatu%20nih..." 
               class="whatsapp-link" target="_blank">
                <i class="fab fa-whatsapp"></i> Kirim Pesan
            </a>
        </div>
    </div>

    <div class="modal hidden" id="question-bank-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Akses Bank Soal</h3>
            <p>Masukkan kode akses bank soal:</p>
            <input type="password" id="question-bank-code" placeholder="Masukkan Kode Bank Soal">
            <button id="submit-bank-code">Masuk</button>
        </div>
    </div>

    <div class="modal hidden" id="admin-panel-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Akses Kontrol Panel Admin</h3>
            <p>Masukkan kode akses admin:</p>
            <input type="password" id="admin-code" placeholder="Masukkan Kode Admin">
            <button id="submit-admin-code">Masuk</button>
        </div>
    </div>

    <script src="assets/js/particles.min.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/main.js"></script>
    <script src="assets/js/quiz-engine.js"></script>
    <script src="assets/js/admin-panel.js"></script>
</body>
</html>
