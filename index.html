<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online - PERGUNU SITUBONDO</title>
    <link rel="stylesheet" href="assets/css/animate.css">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="icon" href="assets/images/logo.png">
    <script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
</head>
<body>
    <!-- Particle Background -->
    <div id="particles-js"></div>
    
    <!-- Opening Notification -->
    <div class="opening-notification animate__animated animate__fadeIn">
        <div class="notification-content">
            <img src="assets/images/logo.png" alt="Logo PERGUNU" class="logo">
            <h1 id="greeting-text">Selamat Datang di Ujian Online PERGUNU SITUBONDO</h1>
            <div class="login-form animate__animated animate__fadeInUp">
                <input type="password" id="login-code" placeholder="Masukkan Kode Login">
                <button id="login-btn" class="btn-gradient">Masuk</button>
            </div>
            <audio id="opening-audio" src="assets/audio/opening.mp3" autoplay></audio>
        </div>
    </div>

    <!-- Terms and Conditions -->
    <div class="terms-container hidden animate__animated">
        <div class="terms-content">
            <h2>Peraturan & Kebijakan Ujian Online</h2>
            <div class="terms-text">
                <p>Dikembangkan oleh Cendhanu Tim Kreator PERGUNU SITUBONDO</p>
                <ol>
                    <li>Peserta wajib mengisi data diri dengan benar dan valid.</li>
                    <li>Dilarang keras melakukan kecurangan selama ujian berlangsung.</li>
                    <li>Peserta hanya diperbolehkan mengikuti ujian satu kali untuk setiap kategori.</li>
                    <li>Waktu ujian tidak dapat ditambah setelah dimulai.</li>
                    <li>Hasil ujian akan dicetak dalam bentuk sertifikat digital.</li>
                    <li>Data peserta akan disimpan untuk keperluan validasi sertifikat.</li>
                </ol>
            </div>
            <div class="terms-agreement">
                <input type="checkbox" id="agree-terms">
                <label for="agree-terms">Saya menyetujui peraturan dan kebijakan ujian online ini</label>
            </div>
            <button id="continue-btn" class="btn-gradient" disabled>Lanjut Ikut Ujian</button>
        </div>
    </div>

    <!-- Participant Form -->
    <div class="participant-form hidden animate__animated">
        <div class="form-container">
            <h2>Formulir Data Peserta</h2>
            <form id="participant-data">
                <div class="form-group">
                    <label for="fullname">Nama Lengkap:</label>
                    <input type="text" id="fullname" required>
                </div>
                
                <div class="form-group">
                    <label>Status:</label>
                    <div class="radio-group">
                        <input type="radio" id="student" name="status" value="pelajar" checked>
                        <label for="student">Pelajar</label>
                        <input type="radio" id="general" name="status" value="umum">
                        <label for="general">Umum</label>
                    </div>
                </div>
                
                <!-- Student Fields -->
                <div id="student-fields">
                    <div class="form-group">
                        <label for="school">Nama Sekolah:</label>
                        <input type="text" id="school" required>
                    </div>
                    <div class="form-group">
                        <label for="nis">NIS (Nomor Induk Siswa):</label>
                        <input type="number" id="nis" required>
                    </div>
                    <div class="form-group">
                        <label>Tujuan Ikut Ujian:</label>
                        <select id="student-purpose" required>
                            <option value="">Pilih Tujuan</option>
                            <option value="tugas-sekolah">Tugas Sekolah</option>
                            <option value="tugas-ulangan">Tugas Ulangan</option>
                            <option value="tes-belajar">Tes dan Belajar</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Tingkat Sekolah:</label>
                        <select id="school-level" required>
                            <option value="">Pilih Tingkat</option>
                            <option value="sd">SD</option>
                            <option value="smp">SMP</option>
                            <option value="sma">SMA/SMK</option>
                        </select>
                    </div>
                </div>
                
                <!-- General Public Fields -->
                <div id="general-fields" class="hidden">
                    <div class="form-group">
                        <label for="address">Alamat:</label>
                        <div class="address-input">
                            <input type="text" id="address" required>
                            <button type="button" id="get-location" class="btn-small"><i class="fas fa-map-marker-alt"></i> Gunakan GPS</button>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="whatsapp">Nomor WhatsApp Aktif:</label>
                        <input type="tel" id="whatsapp" minlength="10" maxlength="13" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" pattern="[a-zA-Z0-9._%+-]+@(gmail|yahoo|hotmail)\.com" required>
                    </div>
                    <div class="form-group">
                        <label>Tujuan Ikut Ujian:</label>
                        <select id="general-purpose" required>
                            <option value="">Pilih Tujuan</option>
                            <option value="tes-iq">Tes IQ</option>
                            <option value="cpns">Ujian CPNS/P3K</option>
                        </select>
                    </div>
                </div>
                
                <div class="form-group">
                    <button type="submit" class="btn-gradient">Simpan & Ikut Ujian</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Exam Level Selection -->
    <div class="exam-level-container hidden animate__animated">
        <div class="level-content">
            <h2>Pilih Tingkat Ujian</h2>
            <div id="student-levels" class="hidden">
                <h3>Tingkat Pelajar</h3>
                <div class="level-buttons">
                    <!-- SD Levels -->
                    <div id="sd-levels" class="hidden">
                        <button class="level-btn roman" data-level="kelas-iv">Kelas IV</button>
                        <button class="level-btn roman" data-level="kelas-v">Kelas V</button>
                        <button class="level-btn roman" data-level="kelas-vi">Kelas VI</button>
                    </div>
                    
                    <!-- SMP Levels -->
                    <div id="smp-levels" class="hidden">
                        <button class="level-btn roman" data-level="kelas-vii">Kelas VII</button>
                        <button class="level-btn roman" data-level="kelas-viii">Kelas VIII</button>
                        <button class="level-btn roman" data-level="kelas-ix">Kelas IX</button>
                    </div>
                    
                    <!-- SMA Levels -->
                    <div id="sma-levels" class="hidden">
                        <button class="level-btn roman" data-level="kelas-x">Kelas X</button>
                        <button class="level-btn roman" data-level="kelas-xi">Kelas XI</button>
                        <button class="level-btn roman" data-level="kelas-xii">Kelas XII</button>
                    </div>
                </div>
            </div>
            
            <div id="general-levels" class="hidden">
                <h3>Tingkat Umum</h3>
                <div class="level-buttons">
                    <button class="level-btn" data-level="tes-iq">Tes IQ</button>
                    <button class="level-btn" data-level="cpns">Ujian CPNS/P3K</button>
                </div>
                
                <div id="cpns-license" class="hidden">
                    <div class="form-group">
                        <label for="license-code">Masukkan Kode Lisensi Ujian CPNS/P3K:</label>
                        <input type="password" id="license-code">
                        <button id="verify-license" class="btn-small">Verifikasi</button>
                    </div>
                </div>
            </div>
            
            <!-- Subject Selection -->
            <div id="subject-selection" class="hidden">
                <h3>Pilih Jenis Ujian</h3>
                <div class="subject-buttons">
                    <!-- Student Subjects -->
                    <div id="student-subjects" class="hidden">
                        <button class="subject-btn" data-subject="agama">AGAMA</button>
                        <button class="subject-btn" data-subject="ppkn">PPKN</button>
                        <button class="subject-btn" data-subject="sejarah">SEJARAH</button>
                        <button class="subject-btn" data-subject="ipa">IPA</button>
                        <button class="subject-btn" data-subject="ips">IPS</button>
                        <button class="subject-btn" data-subject="matematika">MATEMATIKA</button>
                        <button class="subject-btn" data-subject="bahasa-indonesia">BAHASA INDONESIA</button>
                        <button class="subject-btn" data-subject="bahasa-inggris">BAHASA INGGRIS</button>
                        <button class="subject-btn" data-subject="materi-extra">MATERI EXTRA</button>
                        <button class="subject-btn" data-subject="materi-khusus">MATERI KHUSUS</button>
                    </div>
                    
                    <!-- General Subjects -->
                    <div id="general-subjects" class="hidden">
                        <button class="subject-btn" data-subject="logika">Ujian Logika</button>
                        <button class="subject-btn" data-subject="cpns">Ujian CPNS/P3K</button>
                    </div>
                </div>
                
                <div class="info-box">
                    <p id="periodic-info">Informasi berkala akan ditampilkan di sini. Dapat diatur melalui kontrol panel admin.</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Exam Interface -->
    <div class="exam-container hidden">
        <div class="exam-header">
            <div class="timer-container">
                <span id="timer">120:00</span>
            </div>
            <div class="exam-info">
                <span id="current-question">1</span>/<span id="total-questions">10</span>
            </div>
        </div>
        
        <div class="question-container">
            <div class="question-text" id="question-text">
                Memuat soal...
            </div>
            
            <div class="options-container">
                <div class="option" data-option="a">
                    <span class="option-letter">A</span>
                    <span class="option-text" id="option-a">Memuat pilihan A...</span>
                </div>
                <div class="option" data-option="b">
                    <span class="option-letter">B</span>
                    <span class="option-text" id="option-b">Memuat pilihan B...</span>
                </div>
                <div class="option" data-option="c">
                    <span class="option-letter">C</span>
                    <span class="option-text" id="option-c">Memuat pilihan C...</span>
                </div>
                <div class="option" data-option="d">
                    <span class="option-letter">D</span>
                    <span class="option-text" id="option-d">Memuat pilihan D...</span>
                </div>
                <div class="option" data-option="e">
                    <span class="option-letter">E</span>
                    <span class="option-text" id="option-e">Memuat pilihan E...</span>
                </div>
            </div>
            
            <div class="answer-explanation hidden" id="explanation">
                <h4>Penjelasan Jawaban:</h4>
                <p id="explanation-text">Penjelasan akan muncul setelah Anda memilih jawaban.</p>
            </div>
        </div>
        
        <div class="exam-controls">
            <button id="finish-exam" class="btn-exam">Selesaikan Ujian Sekarang</button>
            <button id="skip-question" class="btn-exam">Lewati Soal</button>
            <button id="unanswered-questions" class="btn-exam">Soal Belum Dijawab</button>
        </div>
        
        <div class="time-warning hidden" id="time-warning">
            <p>Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.</p>
        </div>
    </div>

    <!-- Results Page -->
    <div class="results-container hidden">
        <div class="results-content">
            <h2>Hasil Ujian Anda</h2>
            <div class="score-container">
                <div class="score-circle">
                    <span id="score-percentage">0</span>%
                </div>
                <div class="score-details">
                    <p>Total Soal: <span id="total-answered">0</span></p>
                    <p>Jawaban Benar: <span id="correct-answers">0</span></p>
                    <p>Jawaban Salah: <span id="wrong-answers">0</span></p>
                </div>
            </div>
            
            <div class="certificate-preview">
                <img src="assets/images/certificate.png" alt="Preview Sertifikat" id="cert-preview">
                <button id="view-certificate" class="btn-gradient">Lihat Sertifikat</button>
            </div>
            
            <div class="action-buttons">
                <button id="print-certificate" class="btn-gradient">Cetak Sertifikat</button>
                <button id="retake-exam" class="btn-outline">Ulangi Ujian</button>
            </div>
        </div>
    </div>

    <!-- Certificate Page -->
    <div class="certificate-container hidden">
        <div class="certificate" id="certificate">
            <div class="certificate-header">
                <h1>SERTIFIKAT PRESTASI</h1>
            </div>
            
            <div class="certificate-body">
                <p class="awarded-to">Diberikan Kepada:</p>
                <h2 id="cert-name">NAMA PESERTA</h2>
                
                <p class="participation">Atas Partisipasi & Pencapaian Luar Biasa dalam <strong>Ujian Pergunu Situbondo</strong></p>
                
                <p class="appreciation">Sebagai penghargaan atas dedikasi dalam memahami materi ujian dan mengasah logika, sertifikat ini diberikan sebagai motivasi untuk terus berkembang.</p>
                
                <div class="score-presentation">
                    <p>Nilai Ujian: <span id="cert-score">0</span></p>
                    <p id="motivation-text">Sempurna! Anda sangat luar biasa dalam menguasai materi ini. Pertahankan prestasi ini.</p>
                </div>
                
                <div class="certificate-footer">
                    <p class="period">Ditetapkan di: Situbondo, <span id="cert-date">16 Mei 2025</span></p>
                    <div class="signature">
                        <p class="position">Ketua Pergunu Situbondo</p>
                        <p class="chairman-name" id="chairman-name">Moh. Nuril Hudha, S.Pd., M.Si.</p>
                    </div>
                </div>
            </div>
            
            <div class="certificate-code">
                <p id="cert-code">USWATUN HASANAH/PELAJAR/SMA/IPS/16052025/T9B3-S6M3/PERGUNU-STB</p>
            </div>
            
            <div class="barcode">
                <img src="assets/images/BARCODE.png" alt="Barcode Sertifikat">
            </div>
        </div>
        
        <div class="certificate-actions hidden">
            <button id="print-cert" class="btn-gradient">Cetak Sertifikat</button>
            <button id="back-to-results" class="btn-outline">Kembali ke Hasil</button>
        </div>
    </div>

   <!-- Floating Buttons -->
<div class="float-buttons">
  <button class="float-btn" id="share-btn" title="Bagikan">
    <i class="fas fa-share-alt"></i>
  </button>
  <button class="float-btn" id="whatsapp-btn" title="Chat WhatsApp">
    <i class="fab fa-whatsapp"></i>
  </button>
  <button class="float-btn" id="question-bank-btn" title="Bank Soal">
    <i class="fas fa-book"></i>
  </button>
</div>

<button class="btn-float" id="admin-panel-btn" title="Admin Panel">
  <i class="fas fa-cog"></i>
</button>

    <!-- Modal Windows -->
    <div class="modal hidden" id="share-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Bagikan Ujian Online</h3>
            <div class="social-links">
                <!-- Links will be populated from admin settings -->
            </div>
            <div class="direct-link">
                <input type="text" id="share-link" readonly>
                <button id="copy-link" class="btn-small">Salin Link</button>
            </div>
        </div>
    </div>

    <div class="modal hidden" id="question-bank-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Akses Bank Soal</h3>
            <div class="login-form">
                <input type="password" id="bank-code" placeholder="Masukkan Kode Bank Soal">
                <button id="bank-login-btn" class="btn-gradient">Masuk</button>
            </div>
        </div>
    </div>

    <div class="modal hidden" id="admin-panel-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Kontrol Panel Admin</h3>
            <div class="login-form">
                <input type="password" id="admin-code" placeholder="Masukkan Kode Admin">
                <button id="admin-login-btn" class="btn-gradient">Masuk</button>
            </div>
        </div>
    </div>

    <audio id="correct-sound" src="assets/audio/jawabanbenar.mp3"></audio>
    <audio id="wrong-sound" src="assets/audio/jawabansalah.mp3"></audio>
    <audio id="applause-sound" src="assets/audio/applause.mp3"></audio>
    <audio id="button-sound" src="assets/audio/audiotombol.mp3"></audio>

    <script src="assets/js/particles.js"></script>
    <script src="assets/js/main.js"></script>
</body>
</html>
