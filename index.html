<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ujian Online PERGUNU Situbondo</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        /* CSS akan ditempatkan di file terpisah */
    </style>
</head>
<body>
    <!-- Canvas untuk partikel animasi -->
    <canvas id="particle-canvas"></canvas>

    <!-- Notifikasi Opening -->
    <div id="opening-notification" class="notification-modal">
        <div class="notification-content">
            <img src="https://raw.githubusercontent.com/pergunu/ujian-online/refs/heads/main/assets/images/logo.png" alt="Logo PERGUNU" class="logo">
            <h1 id="greeting-text">Selamat Datang di Ujian Online PERGUNU Situbondo</h1>
            <p>Silakan masukkan kode login untuk melanjutkan</p>
            <input type="password" id="login-code" placeholder="Masukkan Kode Login">
            <button id="login-btn">Masuk</button>
            <audio id="opening-audio" src="https://voca.ro/1a8eWbggFzfB"></audio>
        </div>
    </div>

    <!-- Form Persyaratan -->
    <div id="terms-form" class="form-container hidden">
        <div class="form-content">
            <h2>Peraturan & Kebijakan Ujian Online</h2>
            <div class="terms-box">
                <p>1. Peserta wajib mengisi data dengan benar dan lengkap.</p>
                <p>2. Waktu ujian adalah 120 menit dan tidak dapat diperpanjang.</p>
                <p>3. Dilarang keras melakukan kecurangan selama ujian berlangsung.</p>
                <p>4. Hasil ujian akan dicetak dalam bentuk sertifikat digital.</p>
                <p>5. Sistem ini dikembangkan oleh Cendhanu Tim Kreator PERGUNU Situbondo.</p>
            </div>
            <div class="checkbox-container">
                <input type="checkbox" id="agree-terms">
                <label for="agree-terms">Saya menyetujui semua persyaratan di atas</label>
            </div>
            <button id="next-to-data" disabled>Lanjut Ikut Ujian</button>
        </div>
    </div>

    <!-- Form Data Peserta -->
    <div id="data-form" class="form-container hidden">
        <div class="form-content">
            <h2>Form Data Peserta</h2>
            <div class="form-group">
                <label for="fullname">Nama Lengkap:</label>
                <input type="text" id="fullname" placeholder="Masukkan nama lengkap">
            </div>
            
            <div class="form-group">
                <label>Status:</label>
                <div class="radio-group">
                    <input type="radio" id="pelajar" name="status" value="pelajar" checked>
                    <label for="pelajar">Pelajar</label>
                    <input type="radio" id="umum" name="status" value="umum">
                    <label for="umum">Umum</label>
                </div>
            </div>

            <!-- Form Pelajar -->
            <div id="pelajar-form">
                <div class="form-group">
                    <label for="school">Nama Sekolah:</label>
                    <input type="text" id="school" placeholder="Masukkan nama sekolah">
                </div>
                <div class="form-group">
                    <label for="nis">NIS (Nomor Induk Siswa):</label>
                    <input type="number" id="nis" placeholder="Masukkan NIS">
                </div>
                <div class="form-group">
                    <label>Tujuan Ikut Ujian:</label>
                    <select id="tujuan-pelajar">
                        <option value="tugas-sekolah">Tugas Sekolah</option>
                        <option value="tugas-ulangan">Tugas Ulangan</option>
                        <option value="tes-belajar">Tes dan Belajar</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>Tingkat Sekolah:</label>
                    <div class="radio-group">
                        <input type="radio" id="sd" name="tingkat" value="SD">
                        <label for="sd">SD</label>
                        <input type="radio" id="smp" name="tingkat" value="SMP">
                        <label for="smp">SMP</label>
                        <input type="radio" id="sma" name="tingkat" value="SMA/SMK">
                        <label for="sma">SMA/SMK</label>
                    </div>
                </div>
            </div>

            <!-- Form Umum -->
            <div id="umum-form" class="hidden">
                <div class="form-group">
                    <label>Tujuan Ikut Ujian:</label>
                    <select id="tujuan-umum">
                        <option value="tes-iq">Tes IQ</option>
                        <option value="cpns">Ujian CPNS/P3K</option>
                    </select>
                </div>
                <div class="form-group">
                    <a href="https://pergunu.github.io/ujian-umum/" class="btn-umum">Klik untuk Ujian Umum</a>
                </div>
            </div>

            <div class="info-box">
                <p id="info-text">Informasi penting akan ditampilkan di sini oleh admin.</p>
            </div>

            <button id="save-data">Simpan & Ikut Ujian</button>
        </div>
    </div>

    <!-- Form Pilihan Ujian -->
    <div id="exam-options" class="form-container hidden">
        <div class="form-content">
            <h2>Pilihan Ujian</h2>
            
            <!-- Tingkat Kelas -->
            <div id="kelas-options" class="hidden">
                <h3>Pilih Kelas:</h3>
                <div class="button-group">
                    <!-- Akan diisi oleh JavaScript berdasarkan pilihan -->
                </div>
            </div>

            <!-- Jenis Ujian -->
            <div id="subject-options">
                <h3>Pilih Jenis Ujian:</h3>
                <div class="button-group">
                    <button class="subject-btn" data-subject="agama">AGAMA</button>
                    <button class="subject-btn" data-subject="ppkn">PPKN</button>
                    <button class="subject-btn" data-subject="sejarah">SEJARAH</button>
                    <button class="subject-btn" data-subject="ipa">IPA</button>
                    <button class="subject-btn" data-subject="ips">IPS</button>
                    <button class="subject-btn" data-subject="matematika">MATEMATIKA</button>
                    <button class="subject-btn" data-subject="indonesia">BAHASA INDONESIA</button>
                    <button class="subject-btn" data-subject="inggris">BAHASA INGGRIS</button>
                    <button class="subject-btn" data-subject="extra">MATERI EXTRA</button>
                    <button class="subject-btn" data-subject="khusus">MATERI KHUSUS</button>
                </div>
            </div>

            <button id="start-exam" disabled>Mulai Ujian Sekarang</button>
        </div>
    </div>

    <!-- Halaman Ujian -->
    <div id="exam-page" class="hidden">
        <div class="exam-header">
            <div class="timer-container">
                <span id="timer">120:00</span>
            </div>
            <div class="exam-info">
                <span id="current-question">1</span>/<span id="total-questions">10</span>
            </div>
        </div>

        <div class="question-container">
            <div class="question-text">
                <!-- Pertanyaan akan diisi oleh JavaScript -->
            </div>
            <div class="options-container">
                <!-- Opsi jawaban akan diisi oleh JavaScript -->
            </div>
        </div>

        <div class="exam-footer">
            <button id="finish-exam">Selesaikan Ujian Sekarang</button>
            <button id="skip-question">Lewati Soal</button>
            <button id="unanswered-questions">Soal Belum Dijawab</button>
        </div>

        <div id="time-warning" class="hidden">
            <p>Perhatian! Ujian akan berakhir dalam waktu 10 menit. Mohon pastikan semua jawaban telah diselesaikan dan diperiksa sebelum waktu habis. Terima kasih atas partisipasi Anda.</p>
        </div>

        <audio id="correct-sound" src="https://voca.ro/1emZhDVU89XS"></audio>
        <audio id="wrong-sound" src="https://voca.ro/17HW0ShxqM9B"></audio>
    </div>

    <!-- Hasil Ujian -->
    <div id="result-page" class="hidden">
        <div class="result-container">
            <h2>Hasil Ujian Anda</h2>
            <div class="result-details">
                <div class="result-item">
                    <span>Jumlah Soal:</span>
                    <span id="total-answered">0</span>
                </div>
                <div class="result-item">
                    <span>Jawaban Benar:</span>
                    <span id="correct-answers">0</span>
                </div>
                <div class="result-item">
                    <span>Jawaban Salah:</span>
                    <span id="wrong-answers">0</span>
                </div>
                <div class="result-item score">
                    <span>Nilai:</span>
                    <span id="final-score">0</span>
                </div>
            </div>
            <div class="motivation-text">
                <p id="motivation-message">Pesan motivasi akan muncul di sini berdasarkan nilai Anda.</p>
            </div>
            <div class="result-buttons">
                <button id="view-certificate">Lihat Sertifikat</button>
                <button id="retake-exam">Ulangi Ujian</button>
            </div>
        </div>
    </div>

    <!-- Sertifikat -->
    <div id="certificate-page" class="hidden">
        <div class="certificate-container">
            <img src="https://raw.githubusercontent.com/pergunu/ujian-online/refs/heads/main/assets/images/certificate.png" alt="Background Sertifikat" class="certificate-bg">
            <div class="certificate-content">
                <h1 class="certificate-title">SERTIFIKAT PRESTASI</h1>
                <p class="certificate-given">Diberikan Kepada:</p>
                <h2 class="certificate-name" id="cert-name">NAMA PESERTA</h2>
                <p class="certificate-achievement">Atas Partisipasi & Pencapaian Luar Biasa dalam <strong>Ujian Pergunu Situbondo</strong></p>
                <p class="certificate-description">Sebagai penghargaan atas dedikasi dalam memahami materi ujian dan mengasah logika, sertifikat ini diberikan sebagai motivasi untuk terus berkembang.</p>
                <div class="certificate-score">
                    <span>Nilai:</span>
                    <span id="cert-score">100</span>
                </div>
                <p class="certificate-motivation" id="cert-motivation">Pesan motivasi khusus untuk Anda</p>
                <div class="certificate-footer">
                    <p class="certificate-date">Ditetapkan di: Situbondo, <span id="cert-date">16 Mei 2025</span></p>
                    <p class="certificate-signature">Ketua Pergunu Situbondo</p>
                    <p class="certificate-chairman">Moh. Nuril Hudha, S.Pd., M.Si.</p>
                    <img src="https://raw.githubusercontent.com/pergunu/ujian-online/refs/heads/main/assets/images/BARCODE.png" alt="Barcode" class="certificate-barcode">
                </div>
                <p class="certificate-code" id="cert-code">USWATUN HASANAH/PELAJAR/SMA/IPS/16052025/T9B3-S6M3/PERGUNU-STB</p>
            </div>
        </div>
        <div class="certificate-buttons">
            <button id="print-certificate"><i class="fas fa-print"></i> Cetak Sertifikat</button>
            <button id="back-to-result"><i class="fas fa-arrow-left"></i> Kembali ke Hasil</button>
        </div>
    </div>

    <!-- Tombol Mengambang -->
    <div class="floating-buttons">
        <button id="share-btn" class="floating-btn"><i class="fas fa-share-alt"></i></button>
        <button id="whatsapp-btn" class="floating-btn"><i class="fab fa-whatsapp"></i></button>
        <button id="bank-soal-btn" class="floating-btn"><i class="fas fa-book"></i></button>
        <button id="admin-btn" class="floating-btn"><i class="fas fa-cog"></i></button>
    </div>

    <!-- Modal Bank Soal -->
    <div id="bank-soal-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Bank Soal</h2>
            <div class="modal-body">
                <div class="access-form">
                    <input type="password" id="bank-code" placeholder="Masukkan Kode Bank Soal">
                    <button id="access-bank">Akses</button>
                </div>
                <div id="bank-content" class="hidden">
                    <div class="bank-tabs">
                        <button class="tab-btn active" data-tab="manual">Input Manual</button>
                        <button class="tab-btn" data-tab="ai">Input AI</button>
                    </div>
                    
                    <div id="manual-tab" class="tab-content active">
                        <div class="form-group">
                            <label for="subject-category">Kategori Ujian:</label>
                            <select id="subject-category">
                                <option value="agama">AGAMA</option>
                                <option value="ppkn">PPKN</option>
                                <option value="sejarah">SEJARAH</option>
                                <option value="ipa">IPA</option>
                                <option value="ips">IPS</option>
                                <option value="matematika">MATEMATIKA</option>
                                <option value="indonesia">BAHASA INDONESIA</option>
                                <option value="inggris">BAHASA INGGRIS</option>
                                <option value="extra">MATERI EXTRA</option>
                                <option value="khusus">MATERI KHUSUS</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="question-text">Pertanyaan:</label>
                            <textarea id="question-text" rows="3" placeholder="Masukkan pertanyaan"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Opsi Jawaban:</label>
                            <input type="text" class="option-input" placeholder="Opsi A" data-option="a">
                            <input type="text" class="option-input" placeholder="Opsi B" data-option="b">
                            <input type="text" class="option-input" placeholder="Opsi C" data-option="c">
                            <input type="text" class="option-input" placeholder="Opsi D" data-option="d">
                            <input type="text" class="option-input" placeholder="Opsi E" data-option="e">
                        </div>
                        <div class="form-group">
                            <label for="correct-answer">Jawaban Benar:</label>
                            <select id="correct-answer">
                                <option value="a">A</option>
                                <option value="b">B</option>
                                <option value="c">C</option>
                                <option value="d">D</option>
                                <option value="e">E</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="explanation">Penjelasan Jawaban:</label>
                            <textarea id="explanation" rows="3" placeholder="Masukkan penjelasan jawaban"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="question-image">Gambar (Opsional):</label>
                            <input type="file" id="question-image" accept="image/*">
                        </div>
                        <button id="save-question">Simpan Soal</button>
                    </div>
                    
                    <div id="ai-tab" class="tab-content">
                        <div class="form-group">
                            <label for="ai-prompt">Prompt AI:</label>
                            <textarea id="ai-prompt" rows="5" placeholder="Masukkan prompt untuk menghasilkan soal ujian, contoh: 'Buatkan 5 soal pilihan ganda tentang sejarah kemerdekaan Indonesia dengan tingkat kesulitan SMP'"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="api-key">API Key:</label>
                            <input type="password" id="api-key" placeholder="Masukkan API Key Anda">
                            <!-- TEMPAT UNTUK MEMASUKKAN API KEY -->
                        </div>
                        <button id="generate-questions">Generate Soal</button>
                        <div id="ai-results" class="hidden">
                            <!-- Hasil generasi AI akan muncul di sini -->
                        </div>
                    </div>
                    
                    <div class="question-list">
                        <h3>Daftar Soal</h3>
                        <div id="questions-container">
                            <!-- Daftar soal akan muncul di sini -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Admin -->
    <div id="admin-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Kontrol Panel Admin</h2>
            <div class="modal-body">
                <div class="access-form">
                    <input type="password" id="admin-code" placeholder="Masukkan Kode Admin">
                    <button id="access-admin">Akses</button>
                </div>
                <div id="admin-content" class="hidden">
                    <div class="admin-tabs">
                        <button class="tab-btn active" data-tab="kode">Pengaturan Kode</button>
                        <button class="tab-btn" data-tab="ujian">Pengaturan Ujian</button>
                        <button class="tab-btn" data-tab="teks">Pengaturan Teks</button>
                        <button class="tab-btn" data-tab="peserta">Data Peserta</button>
                    </div>
                    
                    <div id="kode-tab" class="tab-content active">
                        <div class="form-group">
                            <h3>Kode Login</h3>
                            <input type="password" id="new-login-code" placeholder="Kode Login Baru">
                            <input type="password" id="current-login-code" placeholder="Kode Login Lama" value="12345">
                            <button id="save-login-code">Simpan Kode</button>
                        </div>
                        <div class="form-group">
                            <h3>Kode Bank Soal</h3>
                            <input type="password" id="new-bank-code" placeholder="Kode Bank Soal Baru">
                            <input type="password" id="current-bank-code" placeholder="Kode Bank Soal Lama" value="OPENLOCK-1926">
                            <button id="save-bank-code">Simpan Kode</button>
                        </div>
                        <div class="form-group">
                            <h3>Kode Admin</h3>
                            <input type="password" id="new-admin-code" placeholder="Kode Admin Baru">
                            <input type="password" id="current-admin-code" placeholder="Kode Admin Lama" value="65614222">
                            <button id="save-admin-code">Simpan Kode Admin</button>
                        </div>
                    </div>
                    
                    <div id="ujian-tab" class="tab-content">
                        <div class="form-group">
                            <h3>Enable/Disable Ujian</h3>
                            <div class="toggle-container">
                                <!-- Daftar toggle untuk setiap jenis ujian -->
                            </div>
                        </div>
                        <div class="form-group">
                            <h3>Pengaturan Timer</h3>
                            <input type="number" id="exam-time" min="1" max="300" value="120">
                            <span>menit</span>
                            <button id="save-exam-time">Simpan</button>
                        </div>
                        <div class="form-group">
                            <h3>Pengaturan Soal</h3>
                            <label>Jumlah Soal:</label>
                            <select id="question-count">
                                <option value="5">5</option>
                                <option value="10">10</option>
                                <option value="15">15</option>
                                <option value="20">20</option>
                                <option value="25">25</option>
                                <option value="30">30</option>
                                <option value="50">50</option>
                                <option value="100">100</option>
                                <option value="150">150</option>
                            </select>
                            <button id="save-question-count">Simpan</button>
                        </div>
                        <div class="form-group">
                            <h3>Acak Urutan Soal</h3>
                            <button id="randomize-questions">Acak Sekarang</button>
                        </div>
                        <div class="form-group">
                            <h3>Point Jawaban Benar</h3>
                            <input type="number" id="point-value" min="1" max="10" value="1">
                            <button id="save-point-value">Simpan</button>
                        </div>
                    </div>
                    
                    <div id="teks-tab" class="tab-content">
                        <div class="form-group">
                            <h3>Teks Pembuka</h3>
                            <textarea id="greeting-text-edit" rows="3"></textarea>
                            <button id="save-greeting-text">Simpan</button>
                        </div>
                        <div class="form-group">
                            <h3>Nama Ketua</h3>
                            <input type="text" id="chairman-name" value="Moh. Nuril Hudha, S.Pd., M.Si.">
                            <button id="save-chairman-name">Simpan</button>
                        </div>
                        <div class="form-group">
                            <h3>Teks Informasi Berkala</h3>
                            <textarea id="info-text-edit" rows="3"></textarea>
                            <button id="save-info-text">Simpan</button>
                        </div>
                        <div class="form-group">
                            <h3>Pesan Motivasi</h3>
                            <textarea id="motivation-text-edit" rows="5" placeholder="Masukkan pesan motivasi untuk berbagai tingkat nilai, pisahkan dengan baris baru"></textarea>
                            <button id="save-motivation-text">Simpan</button>
                        </div>
                    </div>
                    
                    <div id="peserta-tab" class="tab-content">
                        <div class="form-group">
                            <h3>Data Peserta Ujian</h3>
                            <div class="search-container">
                                <input type="text" id="search-participant" placeholder="Cari peserta...">
                                <button id="export-data">Export Data</button>
                            </div>
                            <div class="participant-list">
                                <table id="participants-table">
                                    <thead>
                                        <tr>
                                            <th>No</th>
                                            <th>Nama</th>
                                            <th>Status</th>
                                            <th>Tingkat</th>
                                            <th>Ujian</th>
                                            <th>Nilai</th>
                                            <th>Tanggal</th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <!-- Data peserta akan diisi oleh JavaScript -->
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal Share -->
    <div id="share-modal" class="modal hidden">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h2>Bagikan Website</h2>
            <div class="modal-body">
                <div class="social-links">
                    <!-- Link sosial media akan diisi oleh JavaScript -->
                </div>
                <div class="add-link-form">
                    <input type="text" id="new-link-name" placeholder="Nama Platform">
                    <input type="url" id="new-link-url" placeholder="URL">
                    <button id="add-link">Tambah Link</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // JavaScript akan ditempatkan di file terpisah
    </script>
</body>
</html>
